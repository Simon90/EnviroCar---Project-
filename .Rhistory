?geom_path
rseed <- NA
if (!is.na(rseed)) {
set.seed(rseed)
}
xy <- data.frame(coordinates(kmst)) #coordinates
bbox <- bbox(kmst) # bounding box
map <- openmap(c(bbox[4], bbox[1]), c(bbox[2], bbox[3]), type = "osm")
plot(0)
the.curve <- xspline(xy, shape = -0.5, draw = FALSE)
the.curve <- data.frame(the.curve)
junk <- dev.off(which = dev.cur())
ninterp <- 800
xd <- apply(xy, 1, function(z) {
which.min(sqrt((z[1] - the.curve$x)^2 + (z[2] - the.curve$y)^2))
})
xd <- cbind(xd[1:(npts - 1)], xd[2:npts])
the.curve <- apply(xd, 1, function(z) {
indx <- z[1]:z[2]
data.frame(with(the.curve[indx, ], cbind(x = approx(x, n = ninterp)$y, y = approx(y,
n = ninterp)$y)))
})
the.curve <- do.call(rbind, the.curve)
random.curve <- function(npts, len.out, rseed = NA) {
# Generates decently smooth random series for widths and heights
if (!is.na(rseed)) {
set.seed(rseed)
}
findx <- 2:(npts + 1)
y <- as.vector(arima.sim(n = npts + 2, list(ar = c(0.5, 0.4), sd = 1)))
y <- filter(y, filter = rep(1, 3))[findx]
y <- (y - min(y))/diff(range(y))
y <- spline(y, n = len.out, method = "fmm")$y
return(y)
}
thickness <- random.curve(npts, length(the.curve$x), rseed = rseed)
the.curve <- cbind(the.curve, thickness)
col.scale <- random.curve(npts, length(the.curve$x), rseed = rseed)
the.curve <- cbind(the.curve, col.scale)
ggplot(the.curve)
print(map)
the.plot <- autoplot(map, expand=FALSE)
#the.plot <- the.plot + ggplot(the.curve)
aes.def <- aes(x = x, y = y, colour = col.scale, size = thickness)
the.plot <- the.plot + geom_path(aes.def, aes = aes.def)
thick.range <- c(0.2, 10)
the.plot <- the.plot + scale_colour_gradient(low = "yellow", high = "lawngreen",
guide = "none")
the.plot <- the.plot + scale_size(range = thick.range, guide = "none")
the.plot <- the.plot + geom_point(data = xy, mapping = aes(x = x, y = y), size = 2 +
4 * runif(npts), pch = 21, colour = "black", fill = "orange")
new_theme_empty <- theme_bw()
# new_theme_empty$rect <- element_blank() # for blank (white) background
new_theme_empty$panel.background <- element_rect(fill = "gray80", color = NA)
new_theme_empty$panel.border <- element_blank()
new_theme_empty$line <- element_blank()
new_theme_empty$strip.text <- element_blank()
new_theme_empty$axis.text <- element_blank()
new_theme_empty$plot.title <- element_blank()
new_theme_empty$axis.title <- element_blank()
new_theme_empty$plot.margin <- structure(c(0, 0, -1, -1), unit = "lines", valid.unit = 3L,
class = "unit")
the.plot <- the.plot + new_theme_empty
x11()
print(the.plot)
rseed <- NA
if (!is.na(rseed)) {
set.seed(rseed)
}
xy <- data.frame(coordinates(kmst)) #coordinates
bbox <- bbox(kmst) # bounding box
map <- openmap(c(bbox[4], bbox[1]), c(bbox[2], bbox[3]), type = "osm")
plot(0)
the.curve <- xspline(xy, shape = -0.5, draw = FALSE)
the.curve <- data.frame(the.curve)
junk <- dev.off(which = dev.cur())
ninterp <- 800
xd <- apply(xy, 1, function(z) {
which.min(sqrt((z[1] - the.curve$x)^2 + (z[2] - the.curve$y)^2))
})
xd <- cbind(xd[1:(npts - 1)], xd[2:npts])
the.curve <- apply(xd, 1, function(z) {
indx <- z[1]:z[2]
data.frame(with(the.curve[indx, ], cbind(x = approx(x, n = ninterp)$y, y = approx(y,
n = ninterp)$y)))
})
the.curve <- do.call(rbind, the.curve)
random.curve <- function(npts, len.out, rseed = NA) {
# Generates decently smooth random series for widths and heights
if (!is.na(rseed)) {
set.seed(rseed)
}
findx <- 2:(npts + 1)
y <- as.vector(arima.sim(n = npts + 2, list(ar = c(0.5, 0.4), sd = 1)))
y <- filter(y, filter = rep(1, 3))[findx]
y <- (y - min(y))/diff(range(y))
y <- spline(y, n = len.out, method = "fmm")$y
return(y)
}
thickness <- random.curve(npts, length(the.curve$x), rseed = rseed)
the.curve <- cbind(the.curve, thickness)
col.scale <- random.curve(npts, length(the.curve$x), rseed = rseed)
the.curve <- cbind(the.curve, col.scale)
?aes
mp <- openmap(c(53.38332836757155,-130.517578125),
c(15.792253570362446,-67.939453125),4,'stamen-watercolor')
mp_bing <- openmap(c(53.38332836757155,-130.517578125),
c(15.792253570362446,-67.939453125),4,'bing')
states_map <- map_data("state")
states_map_merc <- as.data.frame(
projectMercator(states_map$lat,states_map$long))
states_map_merc$region <- states_map$region
states_map_merc$group <- states_map$group
crimes <- data.frame(state = tolower(rownames(USArrests)), USArrests)
p <- autoplot(mp,expand=FALSE) + geom_polygon(aes(x=x,y=y,group=group),
data=states_map_merc,fill="black",colour="black",alpha=.1) + theme_bw()
print(p)
rseed <- NA
if (!is.na(rseed)) {
set.seed(rseed)
}
xy <- data.frame(coordinates(kmst)) #coordinates
bbox <- bbox(kmst) # bounding box
map <- openmap(c(bbox[4], bbox[1]), c(bbox[2], bbox[3]), type = "osm")
plot(0)
the.curve <- xspline(xy, shape = -0.5, draw = FALSE)
the.curve <- data.frame(the.curve)
junk <- dev.off(which = dev.cur())
ninterp <- 800
xd <- apply(xy, 1, function(z) {
which.min(sqrt((z[1] - the.curve$x)^2 + (z[2] - the.curve$y)^2))
})
xd <- cbind(xd[1:(npts - 1)], xd[2:npts])
the.curve <- apply(xd, 1, function(z) {
indx <- z[1]:z[2]
data.frame(with(the.curve[indx, ], cbind(x = approx(x, n = ninterp)$y, y = approx(y,
n = ninterp)$y)))
})
the.curve <- do.call(rbind, the.curve)
random.curve <- function(npts, len.out, rseed = NA) {
# Generates decently smooth random series for widths and heights
if (!is.na(rseed)) {
set.seed(rseed)
}
findx <- 2:(npts + 1)
y <- as.vector(arima.sim(n = npts + 2, list(ar = c(0.5, 0.4), sd = 1)))
y <- filter(y, filter = rep(1, 3))[findx]
y <- (y - min(y))/diff(range(y))
y <- spline(y, n = len.out, method = "fmm")$y
return(y)
}
thickness <- random.curve(npts, length(the.curve$x), rseed = rseed)
the.curve <- cbind(the.curve, thickness)
col.scale <- random.curve(npts, length(the.curve$x), rseed = rseed)
the.curve <- cbind(the.curve, col.scale)
the.plot <- autoplot(map, expand=FALSE)
#the.plot <- the.plot + ggplot(the.curve)
aes.def <- aes(x = x, y = y, colour = col.scale, size = thickness)
the.plot <- the.plot + geom_path(aes.def, aes = aes.def)
the.plot
the.plot <- autoplot(map, expand=FALSE)
the.plot
autoplot(map, expand=FALSE)
autoplot(map)
the.plot <- autoplot(map)
the.plot
map <- openmap(c(bbox[4], bbox[1]), c(bbox[2], bbox[3]), type = "osm")
map <- openproj(map, longlat())
map
plot(map)
autoplot(map)
the.plot <- autoplot(map)
#the.plot <- the.plot + ggplot(the.curve)
aes.def <- aes(x = x, y = y, colour = col.scale, size = thickness)
the.plot <- the.plot + geom_path(aes.def, aes = aes.def)
the.plot
thick.range <- c(0.2, 10)
the.plot <- the.plot + scale_colour_gradient(low = "yellow", high = "lawngreen",
guide = "none")
the.plot <- the.plot + scale_size(range = thick.range, guide = "none")
the.plot <- the.plot + geom_point(data = xy, mapping = aes(x = x, y = y), size = 2 +
4 * runif(npts), pch = 21, colour = "black", fill = "orange")
the.plot
new_theme_empty <- theme_bw()
# new_theme_empty$rect <- element_blank() # for blank (white) background
new_theme_empty$panel.background <- element_rect(fill = "gray80", color = NA)
new_theme_empty$panel.border <- element_blank()
new_theme_empty$line <- element_blank()
new_theme_empty$strip.text <- element_blank()
new_theme_empty$axis.text <- element_blank()
new_theme_empty$plot.title <- element_blank()
new_theme_empty$axis.title <- element_blank()
new_theme_empty$plot.margin <- structure(c(0, 0, -1, -1), unit = "lines", valid.unit = 3L,
class = "unit")
the.plot <- the.plot + new_theme_empty
x11()
print(the.plot)
the.plot <- autoplot(map)
the.plot <- the.plot + ggplot(the.curve)
ggplot(the.curve)
?ggplot
ggplot2(the.curve)
the.curve$x
the.plot <- autoplot(map)
#the.plot <- the.plot + ggplot(the.curve)
aes.def <- aes(x = the.curve$x, y = the.curve$y, colour = col.scale, size = thickness)
the.plot <- the.plot + geom_path(aes.def, aes = aes.def)
the.plot
thick.range <- c(0.2, 10)
the.plot <- the.plot + scale_colour_gradient(low = "yellow", high = "lawngreen",
guide = "none")
the.plot <- the.plot + scale_size(range = thick.range, guide = "none")
the.plot <- the.plot + geom_point(data = xy, mapping = aes(x = x, y = y), size = 2 +
4 * runif(npts), pch = 21, colour = "black", fill = "orange")
new_theme_empty <- theme_bw()
# new_theme_empty$rect <- element_blank() # for blank (white) background
new_theme_empty$panel.background <- element_rect(fill = "gray80", color = NA)
new_theme_empty$panel.border <- element_blank()
new_theme_empty$line <- element_blank()
new_theme_empty$strip.text <- element_blank()
new_theme_empty$axis.text <- element_blank()
new_theme_empty$plot.title <- element_blank()
new_theme_empty$axis.title <- element_blank()
new_theme_empty$plot.margin <- structure(c(0, 0, -1, -1), unit = "lines", valid.unit = 3L,
class = "unit")
the.plot <- the.plot + new_theme_empty
x11()
print(the.plot)
png()
png(map)
?png
map2 <- png(map.png)
png(map.png)
dev.off()
png(map.png)
png("map.png")
plot(map)
dev.off()
getwd()
map2 <- png("map.png")
plot(map)
dev.off()
map2
plot(map2)
plotRGB(map2)
map_img <- readPNG("map.png")
install.packages("png")
require(grid)
require(png)
map_img <- readPNG("map.png")
map_img <- rasterGrob(img, interpolate=TRUE)
map_img <- rasterGrob(map_img, interpolate=TRUE)
map_img
plot(map_img)
?
rasterGrob
print(map_img)
the.plot <- ggplot(the.curve)
aes.def <- aes(x = x, y = y, colour = col.scale, size = thickness)
the.plot <- the.plot + geom_path(aes.def, aes = aes.def) + + annotation_custom(map_img, xmin=-Inf, xmax=Inf, ymin=-Inf, ymax=Inf)
the.plot <- ggplot(the.curve)
aes.def <- aes(x = x, y = y, colour = col.scale, size = thickness)
the.plot <- the.plot + geom_path(aes.def, aes = aes.def) + annotation_custom(map_img, xmin=-Inf, xmax=Inf, ymin=-Inf, ymax=Inf)
thick.range <- c(0.2, 10)
the.plot <- the.plot + scale_colour_gradient(low = "yellow", high = "lawngreen",
guide = "none")
the.plot <- the.plot + scale_size(range = thick.range, guide = "none")
the.plot <- the.plot + geom_point(data = xy, mapping = aes(x = x, y = y), size = 2 +
4 * runif(npts), pch = 21, colour = "black", fill = "orange")
new_theme_empty <- theme_bw()
# new_theme_empty$rect <- element_blank() # for blank (white) background
new_theme_empty$panel.background <- element_rect(fill = "gray80", color = NA)
new_theme_empty$panel.border <- element_blank()
new_theme_empty$line <- element_blank()
new_theme_empty$strip.text <- element_blank()
new_theme_empty$axis.text <- element_blank()
new_theme_empty$plot.title <- element_blank()
new_theme_empty$axis.title <- element_blank()
new_theme_empty$plot.margin <- structure(c(0, 0, -1, -1), unit = "lines", valid.unit = 3L,
class = "unit")
the.plot <- the.plot + new_theme_empty
x11()
print(the.plot)
the.plot <- ggplot(the.curve) + annotation_custom(map_img, xmin=-Inf, xmax=Inf, ymin=-Inf, ymax=Inf)
aes.def <- aes(x = x, y = y, colour = col.scale, size = thickness)
the.plot <- the.plot + geom_path(aes.def, aes = aes.def)
thick.range <- c(0.2, 10)
the.plot <- the.plot + scale_colour_gradient(low = "yellow", high = "lawngreen",
guide = "none")
the.plot <- the.plot + scale_size(range = thick.range, guide = "none")
the.plot <- the.plot + geom_point(data = xy, mapping = aes(x = x, y = y), size = 2 +
4 * runif(npts), pch = 21, colour = "black", fill = "orange")
new_theme_empty <- theme_bw()
# new_theme_empty$rect <- element_blank() # for blank (white) background
new_theme_empty$panel.background <- element_rect(fill = "gray80", color = NA)
new_theme_empty$panel.border <- element_blank()
new_theme_empty$line <- element_blank()
new_theme_empty$strip.text <- element_blank()
new_theme_empty$axis.text <- element_blank()
new_theme_empty$plot.title <- element_blank()
new_theme_empty$axis.title <- element_blank()
new_theme_empty$plot.margin <- structure(c(0, 0, -1, -1), unit = "lines", valid.unit = 3L,
class = "unit")
the.plot <- the.plot + new_theme_empty
x11()
print(the.plot)
ma <- arima.sim(n = 1000, list(ma=rep(1,10)))
plot(ma)
acf_ma <- acf(ma)
remainder <- stl(co2,s.window = "per")$time.series[,"remainder"]
ar(remainder)
plot(ar(remainder))
str(ar(remainder))
plot(stl(co2,s.window = "per"))
?stl
(co2,s.window = "per")
stl(co2,s.window = "per")
co2
stl(co2,s.window = "per")
315.42 - 315.1954 -0.06100103
315.42 - (315.1954 -0.06100103)
315.42 -(-0.06100103)-0.2856440966
?arima.sim
?ar
a3 <- arima.sim (n=10000, list(ar=c(0.7,0.15,0.05)))
a3
?fit
ar.mle(a3)
ar(a3)
a3 <- arima.sim (n=10000, list(ar=c(0.7,0.15,0.05)))
ar(a3)
ar.mle(a3)
ar.mle(a3, aic=F)
ar.mle(a3, aic=F, order.max=3)
ar.mle(a3, aic=F, order.max=3, demean=F)
ar.mle(a3, aic=F, demean=F)
?arima.sim
ts.plot(a3)
ts.plot(ar(a3))
?ar
?ar
a3 <- arima.sim (n=10000, list(ar=c(0.7,0.15,0.05)))
ar(a3)
ar(a3, aic = FALSE, order.max = 3)
a3 <- arima.sim (n=10000, list(ar=c(0.7,0.15,0.05)))
ar(a3)
ar(a3, aic = FALSE, order.max = 3)
plot(stl(co2,s.window = "per"))
stl(co2,s.window = "per")
co2
stl(co2,s.window = "per")
315.42 -(-0.06100103)-0.2856440966
315.42 -(-0.06100103)-0.2856440966
?stl
?stl
library("trajectories", lib.loc="D:/Program Files/R/R-3.1.1/library")
library("fuzzyMM", lib.loc="D:/Program Files/R/R-3.1.1/library")
install.packages("D:/Dropbox/UNI/R-Programming/map3d_1.0.tar.gz", repos = NULL, type = "source")
library("map3d", lib.loc="D:/Program Files/R/R-3.1.1/library")
demo(pck="map3d")
demo("map3d")
install.packages("rjson")
library("map3d", lib.loc="D:/Program Files/R/R-3.1.1/library")
library("enviroCaR", lib.loc="D:/Program Files/R/R-3.1.1/library")
demo(importDemo)
str(track@tracksCollection[[1]]@tracks[[1]]@sp)
str(tracks@tracksCollection[[1]]@tracks[[1]]@sp)
str(tracks@tracksCollection[[1]]@tracks[[1]])
spplot3d(tracks@tracksCollection[[1]]@tracks[[1]]@sp)
data <- tracks@tracksCollection[[1]]@tracks[[1]]@data
track1 <- tracks@tracksCollection[[1]]@tracks[[1]]@sp
proj4string(track1)
track1 <- SpatialPointsDataFrame(coordinates(track1), data, proj4string=proj4string(track1))
track1 <- SpatialPointsDataFrame(coordinates(track1), data, proj4string=proj4string(track1), bbox=bbox(track1))
coordinates(track1)
nrow(data)
track1 <- SpatialPointsDataFrame(coordinates(track1), data, proj4string=proj4string(track1), bbox=bbox(track1). match.ID = F)
track1 <- SpatialPointsDataFrame(coordinates(track1), data, proj4string=proj4string(track1), bbox=bbox(track1), match.ID = F)
bbox(track1)
proj4string(track1)
track1 <- SpatialPointsDataFrame(track1, data, proj4string=proj4string(track1), bbox=bbox(track1), match.ID = F)
class(track1)
spplot(track1)
library("enviroCaR", lib.loc="D:/Program Files/R/R-3.1.1/library")
library("map3d", lib.loc="D:/Program Files/R/R-3.1.1/library")
str(tracks@tracksCollection[[1]]@tracks[[1]]@sp)
str(tracks@tracksCollection[[1]]@tracks[[1]])
spplot3d(tracks@tracksCollection[[1]]@tracks[[1]]@sp)
data <- tracks@tracksCollection[[1]]@tracks[[1]]@data
importSingleTrack("envirocar.org/api/stable/", 545aa4f4e4b0b53890a2e62c, verbose = FALSE)
importSingleTrack("envirocar.org/api/stable/", "545aa4f4e4b0b53890a2e62c", verbose = FALSE)
importSingleTrack("envirocar.org/api/stable/tracks/", "545aa4f4e4b0b53890a2e62c", verbose = FALSE)
importSingleTrack("envirocar.org/api/stable/tracks/", 545aa4f4e4b0b53890a2e62c, verbose = FALSE)
importSingleTrack("envirocar.org/api/stable", 545aa4f4e4b0b53890a2e62c, verbose = FALSE)
importSingleTrack("envirocar.org/api/stable", 545aa4f4e4b0b53890a2e62c)
importSingleTrack("envirocar.org/api/stable", "545aa4f4e4b0b53890a2e62c")
importSingleTrack("envirocar.org/api/stable", "541be490e4b015877e6c567d")
?paste
?getURL
getTrackIDs("envirocar.org/api/stable")
importSingleTrack("https://envirocar.org/api/stable", "541be490e4b015877e6c567d")
track <- importSingleTrack("https://envirocar.org/api/stable", "541be490e4b015877e6c567d")
spplot3d(tracks@tracks[[1]]@sp)
str(track)
tracks@tracks[[1]]@sp
spplot3d(track@tracks[[1]]@sp)
data <- track@tracks[[1]]@data
track1 <- track@tracks[[1]]@sp
track1 <- SpatialPointsDataFrame(track1, data, proj4string=proj4string(track1), bbox=bbox(track1))
plot(track1)
names(data)
spplot3d(track1, "CO2")
library("fuzzyMM", lib.loc="D:/Program Files/R/R-3.1.1/library")
data(traj)
matched_traj <- mm(traj, plot = TRUE)
track <- importSingleTrack("https://envirocar.org/api/stable", "5457b694e4b0b53890a24096")
spplot3d(track@tracks[[1]]@sp)
track <- importSingleTrack("https://envirocar.org/api/stable", "54215afce4b015877e6db07b")
spplot3d(track@tracks[[1]]@sp)
track <- importSingleTrack("https://envirocar.org/api/stable", "5434f56de4b015877e9d4089")
spplot3d(track@tracks[[1]]@sp)
str(track)
track <- importSingleTrack("https://envirocar.org/api/stable", "53b5228ee4b01607fa566b78")
spplot3d(track@tracks[[1]]@sp)
data <- track@tracks[[1]]@data
track1 <- track@tracks[[1]]@sp
track1 <- SpatialPointsDataFrame(track1, data, proj4string=proj4string(track1), bbox=bbox(track1))
spplot3d(track1, "CO2")
spplot3d(track1, "Speed")
data
View(data)
spplot3d(track1, "GPS.Speed")
stplot(track)
library("spacetime", lib.loc="D:/Program Files/R/R-3.1.1/library")
stplot(track)
require(enviroCaR)
require(fuzzyMM)
require(map3d)
track <- importSingleTrack("https://envirocar.org/api/stable", "53b5228ee4b01607fa566b78")
spplot3d(track@tracks[[1]]@sp)
data <- track@tracks[[1]]@data
track1 <- track@tracks[[1]]@sp
track1 <- SpatialPointsDataFrame(track1, data, proj4string=proj4string(track1), bbox=bbox(track1))
spplot3d(track1, "GPS.Speed")
test
install.packages("devtools")
pkgs <- c("slidify", "slidifyLibraries", "rCharts")
devtools::install_github(pkgs, "ramnathv")
find_rtools()
library("devtools", lib.loc="D:/Program Files/R/R-3.1.1/library")
find_rtools()
library(slidify )
library(slidify)
devtools::install_github(pkgs, "ramnathv/slidify ")
devtools::install_github(pkgs, "ramnathv/slidify")
library("slidify", lib.loc="D:/Program Files/R/R-3.1.1/library")
author("C:/Users/Niko/Documents/GitHub/EnviroCar---Project-", use_git=F)
library("slidifyLibraries", lib.loc="D:/Program Files/R/R-3.1.1/library")
slidify()
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
slidify("index.rmd")
